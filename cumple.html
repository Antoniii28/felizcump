<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Cumpleaños Yeni</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap');
        
        :root {
            --color-primary: #ff6b6b;
            --color-secondary: #feca57;
            --color-accent: #5f27cd;
            --color-text: #ffffff;
            --color-bg: #0a0a1a;
            --color-pink: #ff6b9e;
            --color-purple: #9d4edd;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 107, 158, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 30%, rgba(157, 78, 221, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 50% 80%, rgba(254, 202, 87, 0.1) 0%, transparent 30%);
        }
        
        .contenedor {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            position: relative;
            z-index: 10;
            padding: 2rem;
        }
        
        #passwordScreen {
            text-align: center;
            background: rgba(10, 10, 26, 0.7);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 500px;
            width: 90%;
        }
        
        #passwordInput {
            padding: 1rem 1.5rem;
            font-size: 1.2rem;
            border: 2px solid var(--color-accent);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--color-text);
            width: 80%;
            max-width: 300px;
            text-align: center;
            outline: none;
            transition: all 0.3s;
        }
        
        #passwordInput:focus {
            border-color: var(--color-pink);
            box-shadow: 0 0 20px rgba(255, 107, 158, 0.5);
        }
        
        #unlockButton {
            background: linear-gradient(135deg, var(--color-pink), var(--color-purple));
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
            font-weight: bold;
        }
        
        #unlockButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(157, 78, 221, 0.3);
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        
        #pastel {
            position: relative;
            animation: rebotar 2s infinite, glow 3s infinite alternate;
            filter: drop-shadow(0 0 20px rgba(254, 202, 87, 0.8));
            transition: all 0.5s;
            z-index: 100;
        }
        
        #pastel img {
            width: 300px;
            animation: rotate 20s infinite linear;
        }
        
        #textoCumple {
            font-family: 'Dancing Script', cursive;
            text-align: center;
            margin: 2rem 0;
            opacity: 0;
            transform: scale(0.5);
            transition: all 1s ease;
            z-index: 100;
        }
        
        #textoCumple h1 {
            font-size: 4rem;
            color: var(--color-secondary);
            text-shadow: 0 0 15px rgba(254, 202, 87, 0.7);
            margin: 0;
            animation: neon-flicker 1.5s infinite alternate;
        }
        
        #galeria {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 60vh;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
            z-index: 100;
        }
        
        #fotoActual {
            max-width: 100%;
            max-height: 100%;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.2);
            opacity: 0;
            transition: opacity 1s ease-in-out;
            object-fit: contain;
            background-color: rgba(10, 10, 26, 0.5);
            backdrop-filter: blur(5px);
        }
        
        #mensajeFinal {
            text-align: center;
            margin-top: 2rem;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
            z-index: 100;
            max-width: 800px;
            padding: 2rem;
            background: rgba(10, 10, 26, 0.7);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        #mensajeFinal p {
            font-size: 2rem;
            color: var(--color-text);
            font-family: 'Dancing Script', cursive;
            margin: 0;
            line-height: 1.5;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        #pastelFinal {
    position: fixed;
    top: 40%; /* Lo subimos más arriba */
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    z-index: 200; /* Mayor z-index para que esté sobre el mensaje */
    opacity: 0;
    transition: all 1s ease;
    filter: drop-shadow(0 0 20px rgba(254, 202, 87, 0.8));
}
        
        #pastelFinal img {
            width: 100%;
            animation: rebotar 2s infinite;
        }
        
        #mensajeEspecial {
    position: fixed;
    top: 65%; /* Lo bajamos para que esté debajo del pastel */
    left: 50%;
    transform: translateX(-50%); /* Solo centrado horizontalmente */
    background: rgba(255, 107, 158, 0.85); /* Fondo rosado */
    padding: 1.5rem;
    border-radius: 15px;
    max-width: 80%;
    z-index: 150; /* Z-index intermedio (entre pastel y efectos) */
    opacity: 0;
    transition: all 1s ease;
    border: none;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}
        
        #mensajeEspecial h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--color-secondary);
            margin-bottom: 1rem;
        }
        
        #mensajeEspecial p {
            font-size: 1.5rem;
            line-height: 1.6;
        }
        
        .oculto {
            display: none;
        }
        
        .visible {
            opacity: 1 !important;
            transform: none !important;
            display: block !important;
        }
        
        @keyframes rebotar {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        @keyframes aparecer {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes rotate {
            to { transform: rotate(360deg); }
        }
        
        @keyframes glow {
            from {
                filter: drop-shadow(0 0 10px rgba(254, 202, 87, 0.7));
            }
            to {
                filter: drop-shadow(0 0 20px rgba(254, 202, 87, 1)) 
                        drop-shadow(0 0 30px rgba(255, 107, 158, 0.7));
            }
        }
        
        @keyframes neon-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                text-shadow:
                    0 0 5px #fff,
                    0 0 10px #fff,
                    0 0 15px var(--color-pink),
                    0 0 20px var(--color-pink),
                    0 0 25px var(--color-pink),
                    0 0 30px var(--color-pink),
                    0 0 35px var(--color-pink);
            }
            20%, 24%, 55% {
                text-shadow: none;
            }
        }
        
        .particle {
            position: absolute;
            pointer-events: none;
            animation: float-up linear infinite;
            z-index: 1;
        }
        
        @keyframes float-up {
            to {
                transform: translateY(-100vh);
            }
        }
        
        .heart {
            color: var(--color-pink);
            font-size: 2rem;
            display: inline-block;
            animation: 
                beat 0.8s infinite alternate, 
                float 3s infinite ease-in-out;
            text-shadow: 0 0 10px rgba(255, 107, 158, 0.7);
            margin: 0 5px;
        }
        
        @keyframes beat {
            to {
                transform: scale(1.4);
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }
        
        .firework {
            position: fixed;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
            animation: firework-animation 2s ease-out forwards;
            z-index: 5;
        }
        
        @keyframes firework-animation {
            0% {
                transform: translate(var(--x), var(--y));
                width: 5px;
                height: 5px;
                opacity: 1;
            }
            100% {
                transform: translate(var(--x-end), var(--y-end));
                width: 0;
                height: 0;
                opacity: 0;
            }
        }
        
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1000;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        .music-control:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.3);
        }
        
        .music-control i {
            font-size: 1.5rem;
            color: white;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: var(--color);
            opacity: 0;
            animation: confetti-fall 5s linear forwards;
            z-index: 2;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .glow {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
            opacity: 0;
            animation: pulse-glow 3s infinite alternate;
            z-index: -1;
        }
        
        @keyframes pulse-glow {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 0.3;
                transform: scale(1.2);
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="backgroundEffects"></div>
    
    <div class="music-control" id="musicControl" title="Reproducir/Pausar música">
        <i class="fas fa-music"></i>
    </div>
    
    <div class="contenedor">
        <div id="passwordScreen">
            <h1 style="color: var(--color-pink); margin-bottom: 2rem;">Ingresa la clave secreta</h1>
            <input type="password" id="passwordInput" placeholder="Escribe la clave aquí">
            <button id="unlockButton">Desbloquear Sorpresa</button>
        </div>

        <div id="pastel" class="oculto">
            <img src="fotos/pastel.png" alt="Pastel de cumpleaños">
            <div class="glow"></div>
        </div>

        <div id="textoCumple" class="oculto">
            <h1>Feliz cumpleaños Yeni <span class="heart">❤</span></h1>
        </div>

        <div id="galeria" class="oculto">
            <img id="fotoActual" src="" alt="Foto">
        </div>

        <div id="mensajeFinal" class="oculto">
            <p>Feliz Cumpleaños Yeni <span class="heart">❤</span><br>
            Eres una persona especial para mí<br>
            Te deseo un grandioso día lleno de alegría</p>
        </div>
    </div>
    
    <div id="pastelFinal" class="oculto">
        <img src="fotos/pastel.png" alt="Pastel de cumpleaños final">
    </div>
    
    <div id="mensajeEspecial" class="oculto">
        <h2>¡Feliz Cumpleaños Yeni!</h2>
        <p>Que este día esté lleno de alegría, amor y muchas bendiciones.<br>
        Eres una persona muy especial y mereces lo mejor.<br>
        ¡Que todos tus sueños se hagan realidad! <span class="heart">❤</span></p>
    </div>

    <audio id="birthdayAudio">
        <source src="cumpleaños.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <script>
        const fotos = [
            "fotos/Imagen1.jpg",
            "fotos/Imagen2.jpg",
            "fotos/Imagen3.jpg",
            "fotos/Imagen4.jpg",
            "fotos/Imagen5.jpg",
        ];

        const CONTRASENA_CORRECTA = "yeni123";
        const passwordScreen = document.getElementById("passwordScreen");
        const passwordInput = document.getElementById("passwordInput");
        const unlockButton = document.getElementById("unlockButton");
        const pastel = document.getElementById("pastel");
        const textoCumple = document.getElementById("textoCumple");
        const galeria = document.getElementById("galeria");
        const mensajeFinal = document.getElementById("mensajeFinal");
        const fotoActual = document.getElementById("fotoActual");
        const backgroundEffects = document.getElementById("backgroundEffects");
        const audioElement = document.getElementById("birthdayAudio");
        const pastelFinal = document.getElementById("pastelFinal");
        const mensajeEspecial = document.getElementById("mensajeEspecial");
        
        let indiceFoto = 0;
        let isPlaying = false;
        let audioContext;
        let audioSource;
        let analyser;
        let dataArray;
        let slideshowInterval;
        let isFinalMessageShown = false;

        unlockButton.addEventListener("click", function() {
            const contrasenaIngresada = passwordInput.value.trim();
            
            if (contrasenaIngresada === CONTRASENA_CORRECTA) {
                passwordScreen.style.display = "none";
                pastel.classList.remove("oculto");
                toggleMusic();
                
                setTimeout(() => {
                    pastel.style.display = "none";
                    textoCumple.classList.add("visible");
                    createFirework();
                    createConfetti();
                    
                    setTimeout(() => {
                        galeria.classList.add("visible");
                        startSlideshow();
                    }, 3000);
                }, 3000);
                
            } else {
                passwordInput.style.animation = "shake 0.5s";
                passwordInput.style.border = "2px solid var(--color-primary)";
                setTimeout(() => {
                    passwordInput.style.animation = "";
                    passwordInput.style.border = "2px solid var(--color-accent)";
                }, 500);
                
                passwordInput.value = "";
                passwordInput.focus();
            }
        });

        passwordInput.addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                unlockButton.click();
            }
        });

        function setupAudio() {
            audioElement.muted = true;
            
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                audioSource = audioContext.createMediaElementSource(audioElement);
                analyser = audioContext.createAnalyser();
                analyser.fftSize = 256;
                
                audioSource.connect(analyser);
                analyser.connect(audioContext.destination);
                
                const bufferLength = analyser.frequencyBinCount;
                dataArray = new Uint8Array(bufferLength);
                
                visualizeAudio();
            } catch (e) {
                console.log('Web Audio API no soportada', e);
            }
            
            document.body.addEventListener('click', function() {
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                audioElement.muted = false;
            }, { once: true });
            
            audioElement.addEventListener('ended', function() {
                if (!isFinalMessageShown) {
                    showFinalCelebration();
                }
            });
        }
        
        function toggleMusic() {
            if (isPlaying) {
                audioElement.pause();
                document.getElementById('musicControl').innerHTML = '<i class="fas fa-music"></i>';
            } else {
                audioElement.play();
                document.getElementById('musicControl').innerHTML = '<i class="fas fa-pause"></i>';
            }
            isPlaying = !isPlaying;
        }
        
        function visualizeAudio() {
            const canvas = document.createElement('canvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.zIndex = '1';
            canvas.style.pointerEvents = 'none';
            document.body.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            
            function draw() {
                requestAnimationFrame(draw);
                
                analyser.getByteFrequencyData(dataArray);
                
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const barWidth = (canvas.width / dataArray.length) * 2.5;
                let x = 0;
                
                for (let i = 0; i < dataArray.length; i++) {
                    const barHeight = dataArray[i] / 2;
                    const hue = i * 360 / dataArray.length;
                    
                    ctx.fillStyle = `hsla(${hue}, 100%, 50%, 0.3)`;
                    ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
                    
                    x += barWidth + 1;
                }
            }
            
            draw();
        }

        function startSlideshow() {
            mostrarFoto();
            slideshowInterval = setInterval(mostrarFoto, 3000);
        }

        function mostrarFoto() {
            if (fotos.length === 0) return;
            
            if (indiceFoto >= fotos.length) {
                indiceFoto = 0;
            }
            
            fotoActual.src = fotos[indiceFoto];
            fotoActual.style.opacity = 1;
            
            createFirework();
            createConfetti();
            createFloatingHearts(5);
            
            indiceFoto++;
        }

        function showFinalCelebration() {
    clearInterval(slideshowInterval);
    galeria.style.opacity = 0;
    mensajeFinal.style.opacity = 0;

    setTimeout(() => {
        // Mostrar Imagen3.jpg en grande (ajustada para que no cubra el mensaje)
        fotoActual.src = "fotos/Imagen3.jpg";
        fotoActual.style.opacity = 1;
        fotoActual.style.maxHeight = "50vh"; // Reducir altura si es necesario

        // Mostrar pastel arriba
        pastelFinal.classList.remove("oculto");
        pastelFinal.style.opacity = 1;

        // Mostrar mensaje debajo del pastel
        mensajeEspecial.classList.remove("oculto");
        mensajeEspecial.style.opacity = 1;

        // Efectos visuales
        createFirework(20);
        createConfetti(300);
        createFloatingHearts(30);
        
        isFinalMessageShown = true;
    }, 1000);
}
        
        function createFirework(count = 1) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const colors = ['#ff6b6b', '#feca57', '#5f27cd', '#1dd1a1', '#ff9ff3'];
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight / 2;
                    
                    for (let j = 0; j < 50; j++) {
                        const particle = document.createElement('div');
                        particle.className = 'firework';
                        
                        const angle = Math.random() * Math.PI * 2;
                        const distance = Math.random() * 100 + 50;
                        const duration = Math.random() * 1 + 1;
                        
                        particle.style.setProperty('--x', `${x}px`);
                        particle.style.setProperty('--y', `${y}px`);
                        particle.style.setProperty('--x-end', `${Math.cos(angle) * distance}px`);
                        particle.style.setProperty('--y-end', `${Math.sin(angle) * distance}px`);
                        particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        particle.style.animationDuration = `${duration}s`;
                        
                        document.body.appendChild(particle);
                        
                        setTimeout(() => {
                            particle.remove();
                        }, duration * 1000);
                    }
                }, i * 300);
            }
        }
        
        function createConfetti(count = 100) {
            const colors = ['#ff6b6b', '#feca57', '#5f27cd', '#1dd1a1', '#ff9ff3'];
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    
                    const size = Math.random() * 10 + 5;
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    const left = Math.random() * window.innerWidth;
                    const delay = Math.random() * 5;
                    const duration = Math.random() * 3 + 2;
                    
                    confetti.style.width = `${size}px`;
                    confetti.style.height = `${size}px`;
                    confetti.style.left = `${left}px`;
                    confetti.style.setProperty('--color', color);
                    confetti.style.animationDelay = `${delay}s`;
                    confetti.style.animationDuration = `${duration}s`;
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    
                    backgroundEffects.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, (duration + delay) * 1000);
                }, i * 50);
            }
        }
        
        function createFloatingHearts(count = 3) {
            const hearts = ['❤', '🧡', '💛', '💚', '💙', '💜', '🤍', '💖'];
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'particle heart';
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    
                    const size = Math.random() * 30 + 20;
                    const left = Math.random() * 100;
                    const duration = Math.random() * 10 + 5;
                    const delay = Math.random() * 5;
                    
                    heart.style.fontSize = `${size}px`;
                    heart.style.left = `${left}vw`;
                    heart.style.bottom = '-50px';
                    heart.style.animation = `float-up ${duration}s linear ${delay}s forwards`;
                    heart.style.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
                    heart.style.textShadow = `0 0 ${size/2}px currentColor`;
                    
                    backgroundEffects.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, (duration + delay) * 1000);
                }, i * 300);
            }
        }
        
        function createFloatingParticles() {
            const colors = ['#ff6b6b', '#feca57', '#5f27cd', '#1dd1a1', '#ff9ff3'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    const size = Math.random() * 15 + 5;
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    const duration = Math.random() * 15 + 10;
                    const delay = Math.random() * 5;
                    
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    particle.style.background = color;
                    particle.style.borderRadius = '50%';
                    particle.style.left = `${Math.random() * 100}vw`;
                    particle.style.bottom = '-20px';
                    particle.style.opacity = '0.6';
                    particle.style.boxShadow = `0 0 ${size}px ${size/2}px ${color}40`;
                    particle.style.animation = `float-up ${duration}s linear ${delay}s infinite`;
                    
                    backgroundEffects.appendChild(particle);
                }, i * 200);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            setupAudio();
            document.getElementById('musicControl').addEventListener('click', toggleMusic);
            createFloatingHearts();
            createFloatingParticles();
        });

        // ===== PROTECCIÓN CONTRA ACCESO AL CÓDIGO FUENTE =====
document.addEventListener("keydown", e => {
    // Bloquear Ctrl+U
    if (e.ctrlKey && e.key === "u") {
        alert("🙅‍♂️ Ver código fuente no permitido");
        e.preventDefault();
    }
    // Bloquear F12 y Ctrl+Shift+I
    if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I")) {
        e.preventDefault();
        alert("Acceso restringido");
    }
});

// Prevenir clic derecho
document.addEventListener("contextmenu", e => {
    e.preventDefault();
    alert("🙅‍♂️ Menú contextual deshabilitado");
});

// Bloquear arrastrar imágenes (opcional)
document.addEventListener("dragstart", e => {
    if (e.target.tagName === "IMG") {
        e.preventDefault();
    }
});
    </script>
</body>
</html>
